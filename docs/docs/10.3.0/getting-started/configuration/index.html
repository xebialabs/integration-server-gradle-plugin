<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="alternate" type="application/rss+xml" href="/integration-server-gradle-plugin/blog/rss.xml" title="Integration Server Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/integration-server-gradle-plugin/blog/atom.xml" title="Integration Server Blog Atom Feed"><title data-react-helmet="true">Configuration | Integration Server</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xebialabs.github.io//integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="10.3.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-10.3.0"><meta data-react-helmet="true" property="og:title" content="Configuration | Integration Server"><meta data-react-helmet="true" name="description" content="The first section level"><meta data-react-helmet="true" property="og:description" content="The first section level"><link data-react-helmet="true" rel="shortcut icon" href="/integration-server-gradle-plugin/img/digital_ai_deploy.svg"><link data-react-helmet="true" rel="canonical" href="https://xebialabs.github.io//integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration"><link data-react-helmet="true" rel="alternate" href="https://xebialabs.github.io//integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xebialabs.github.io//integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration" hreflang="x-default"><link rel="stylesheet" href="/integration-server-gradle-plugin/assets/css/styles.c8cb9dad.css">
<link rel="preload" href="/integration-server-gradle-plugin/assets/js/runtime~main.d8719072.js" as="script">
<link rel="preload" href="/integration-server-gradle-plugin/assets/js/main.d4e93d3e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/integration-server-gradle-plugin/"><img src="/integration-server-gradle-plugin/img/digital_ai_deploy.svg" alt="Integration Server Deploy Digital.ai" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/integration-server-gradle-plugin/img/digital_ai_deploy.svg" alt="Integration Server Deploy Digital.ai" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Integration Server</b></a><a class="navbar__item navbar__link navbar__link--active" href="/integration-server-gradle-plugin/docs/10.3.0/intro">Tutorial</a><a class="navbar__item navbar__link" href="/integration-server-gradle-plugin/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/integration-server-gradle-plugin/docs/10.3.0/intro">10.3.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/integration-server-gradle-plugin/docs/intro">10.4.0</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration">10.3.0</a></li></ul></div><a href="https://github.com/xebialabs/integration-server-gradle-plugin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/integration-server-gradle-plugin/docs/10.3.0/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/structure">Plugin structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/flags">Flags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/limitations">Limitations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/development">Development</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Integration Server <b>10.3.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/integration-server-gradle-plugin/docs/intro">latest version</a></b> (10.4.0).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 10.3.0</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Configuration</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="the-first-section-level"></a>The first section level<a class="hash-link" href="#the-first-section-level" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    clis {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    servers {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    databases {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    workers {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    satellites {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mqDriverVersions {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    xldIsDataVersion {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tests {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">clis</td><td align="center">CLIs configurations, currently, it&#x27;s possible to configure only one.</td></tr><tr><td align="center">servers</td><td align="center">Server configurations, currently, it&#x27;s possible to configure only one.</td></tr><tr><td align="center">databases</td><td align="center">Currently supported only 1 running database. For now you can find this section helpful for overriding database driving versions or having more database level logs.</td></tr><tr><td align="center">workers</td><td align="center">You can configure as many workers as you need here.</td></tr><tr><td align="center">satellites</td><td align="center">You can configure as many satellites as you need here.</td></tr><tr><td align="center">mqDriverVersions</td><td align="center">Points to the version of MQ to use, in case you wish to adapt it to your own version.</td></tr><tr><td align="center">xldIsDataVersion</td><td align="center"><strong>Only for internal use in Digital.ai</strong> Points to the data which is going to be imported after server is booted. To run waste the time to generate a huge amount of test data.</td></tr><tr><td align="center">tests</td><td align="center">You can define Jython based test setups</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="clis-section"></a>CLIs section<a class="hash-link" href="#clis-section" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    clis {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cli { // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cleanDefaultExtContent = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            copyBuildArtifacts = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               lib: /(.+)[.](jar)/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugPort = 4005</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugSuspend = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            filesToExecute = [file(&quot;src/main/resources/provision.py&quot;)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            overlays = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ext: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        files(&quot;ext&quot;) </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                lib: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;com.xebialabs.xl-platform.test-utils:py-modules:${testUtilsVersion}@jar&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            socketTimeout = 120000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            version = &quot;10.2.2&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">cleanDefaultExtContent</td><td align="center">Optional</td><td align="center">false</td><td align="center">By default in CLI there are 3 files included in the ext with some helper functions. You can remove it if it clashes with your scripts.</td></tr><tr><td align="center">copyBuildArtifacts</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">Here you can define what would you like to include to integration server from the build process itself. For example you run: <code>./gradlew build integrationServer</code> and you create <code>*.jar</code> of your plugin which you would like to include to integration server. You have to specify it here. As for overlay it won&#x27;t work. With overlay to make it work you have to run 2 commands: <code>./gradlew build</code> and then <code>./gradlew startIntegrationServer</code>. Key is a relative folder name from CLI base, and a value is a pattern to all files located in <code>build</code> folder except <code>integration-server</code> sub-folder. This one is excluded.</td></tr><tr><td align="center">debugPort</td><td align="center">Optional</td><td align="center">None</td><td align="center">Remote Debug Port for Deploy CLI</td></tr><tr><td align="center">debugSuspend</td><td align="center">Optional</td><td align="center">false</td><td align="center">Suspend the start of the process before the remoting tool is attached.</td></tr><tr><td align="center">filesToExecute</td><td align="center">Optional</td><td align="center">[]</td><td align="center">The list of files which will be executed after Deploy Server (workers and satellite if configured) started. You can use it to provision your server with data before running the tests.</td></tr><tr><td align="center">overlays</td><td align="center">Optional</td><td align="center">[:]</td><td align="center"><a href="#overlays">Read about this section below</a></td></tr><tr><td align="center">socketTimeout</td><td align="center">Optional</td><td align="center">60000</td><td align="center">Time is set in ms. Socket timeout means how long the socket will be opened to execute the provided script. If your script takes a time to be executed, consider to increase it.</td></tr><tr><td align="center">version</td><td align="center">Optional</td><td align="center">None</td><td align="center">It can be specified in several ways. Or as a gradle property <code>deployCliVersion</code>, via parameter or in <code>gradle.properties</code> file or explicitly via this field. As a last resource it also checks on <code>xlDeployVersion</code>, as usually the version should be the same, but you have a possibility to define different versions.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="servers-section"></a>Servers section<a class="hash-link" href="#servers-section" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   servers {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       controlPlane { // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           contextRoot = &quot;/custom&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           copyBuildArtifacts = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;plugins/xld-official&quot;: /(.+)[.](xldp)/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           debugPort = 4005</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           debugSuspend = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           defaultOfficialPluginsToExclude = [&quot;xld-terraform-plugin-10.1.0&quot;, &quot;xld-aws-plugin-10.2.1&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           devOpsAsCodes {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                first {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    devOpAsCodeScript = file(&quot;${buildDir}/resources/main/xld/devopsAsCode/infrastructure.yaml&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmAuthor = &quot;John Doe &lt;john.doe@organization.co&gt;&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmCommit = &quot;6f13f85ca0fa3d7299f195a4a4b1bc95946b98a5&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmDate = &quot;2021-05-16T12:27:19.000Z&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmFile = file(&quot;${buildDir}/resources/main/xld/devopsAsCode/infrastructure.yaml&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmMessage = &quot;Create Infrastructure&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmRemote = &quot;git@github.com:xebialabs/integration-server-gradle-plugin.git&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    scmType = &quot;git&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           dockerImage = &quot;xebialabs/xl-deploy&quot; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">           httpPort = 4516</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           generateDatasets = []</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           jvmArgs = [&quot;-Xmx1024m&quot;, &quot;-Duser.timezone=UTC&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           logLevels = [&quot;com.xebialabs.deployit.plugin.stitch&quot;: &quot;debug&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           overlays = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               &#x27;build/artifacts&#x27;: [&quot;${ciExplorerDataDependency}:artifacts@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               conf             : [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                   &quot;${ciExplorerDataDependency}:configuration@zip&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                   files(&quot;src/test/xld/deployit-license.lic&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               ext              : [&quot;${ciExplorerDataDependency}:extensions@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               lib              : [project.tasks.getByName(&quot;jar&quot;).outputs.files],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               &#x27;plugins/xld-official&#x27;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                   &quot;com.xebialabs.deployit.plugins:xld-ci-explorer:${xldCiExplorerVersion}@xldp&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">               ], </span></span><span class="token-line" style="color:#393A34"><span class="token plain">               &#x27;xldrepo&#x27;: [&quot;${ciExplorerDataDependency}:repository@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           pingRetrySleepTime = 5</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           pingTotalTries = 120</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           removeStdoutConfig = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           runtimeDirectory = &quot;server-runtime&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           stdoutFileName = &#x27;deploy-server-runtime.log&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           version = &#x27;10.2.2&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           yamlPatches = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               &#x27;centralConfiguration/deploy-server.yaml&#x27;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                   &#x27;deploy.server.hostname&#x27;: &#x27;test.xebialabs.com&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                   &#x27;deploy.server.label&#x27;: &#x27;XLD&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">               ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           ]     </span></span><span class="token-line" style="color:#393A34"><span class="token plain">       }       </span></span><span class="token-line" style="color:#393A34"><span class="token plain">   }   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">copyBuildArtifacts</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">Here you can define what would you like to include to integration server from the build process itself. For example you run: <code>./gradlew build integrationServer</code> and you create <code>*.xldp</code> of your plugin which you would like to include to integration server. You have to specify it here. As for overlay it won&#x27;t work. With overlay to make it work you have to run 2 commands: <code>./gradlew build</code> and then <code>./gradlew startIntegrationServer</code>. Key is a relative folder name from Deploy base, and a value is a pattern to all files located in <code>build</code> folder except <code>integration-server</code> sub-folder. This one is excluded.</td></tr><tr><td align="center">contextRoot</td><td align="center">Optional</td><td align="center">/</td><td align="center">The context root for Deploy. <strong>Limitation:</strong> <em>Doesn&#x27;t work for docker setup</em></td></tr><tr><td align="center">debugPort</td><td align="center">Optional</td><td align="center">None</td><td align="center">Remote Debug Port for Deploy Server</td></tr><tr><td align="center">debugSuspend</td><td align="center">Optional</td><td align="center">false</td><td align="center">Suspend the start of the process before the remoting tool is attached.</td></tr><tr><td align="center">defaultOfficialPluginsToExclude</td><td align="center">Optional</td><td align="center">[]</td><td align="center">The list of plugins which are going to be excluded from the <strong>plugins/xld-official</strong> before the booting the server. Expected input is the list of strings separated by comma. Exclusion is happening by name convention. If for example you will say &quot;plugin&quot;, all plugins going to be removed.</td></tr><tr><td align="center">devOpsAsCodes</td><td align="center">Optional</td><td align="center">None</td><td align="center"><a href="#dev-ops-as-code">Read about this section below</a></td></tr><tr><td align="center">dockerImage</td><td align="center">Optional</td><td align="center">None</td><td align="center">When this property is specified, docker based setup will be performed. The name of the docker image, without version. Version is specified in the separate field or dedicated from gradle properties.</td></tr><tr><td align="center">generateDatasets</td><td align="center">Optional</td><td align="center">[]</td><td align="center">The url <code>&quot;http://localhost:${server.httpPort}/deployit/generate/${dataset}&quot;</code> is going to be hit. This URL point is not available in Deploy by default. How you can develop it, is going to be described soon in a blog.</td></tr><tr><td align="center">httpPort</td><td align="center">Optional</td><td align="center">Random port</td><td align="center">The HTTP port for Deploy server.</td></tr><tr><td align="center">jvmArgs</td><td align="center">Optional</td><td align="center">[]</td><td align="center">JVM arguments which are going to be used on Server startup</td></tr><tr><td align="center">logLevels</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">Custom log levels to be included in logback.xml configuration. Expected format is a map, where the key is the package name and value the log level.</td></tr><tr><td align="center">overlays</td><td align="center">Optional</td><td align="center">[:]</td><td align="center"><a href="#overlays">Read about this section below</a></td></tr><tr><td align="center">pingRetrySleepTime</td><td align="center">Optional</td><td align="center">10</td><td align="center">During the startup of the server we check when it&#x27;s completely booted. This property configures how long to sleep (in seconds) between retries.</td></tr><tr><td align="center">pingTotalTries</td><td align="center">Optional</td><td align="center">60</td><td align="center">During the startup of the server we check when it&#x27;s completely booted. This property configures how many times to retry.</td></tr><tr><td align="center">runtimeDirectory</td><td align="center">Optional</td><td align="center">None</td><td align="center">When this property is specified, runtime directory setup will be performed. Just make sure that you have complete deploy instance present there.</td></tr><tr><td align="center">stdoutFileName</td><td align="center">Optional</td><td align="center">None</td><td align="center">The filename that stores standard output and error for server runtime. If not present output is discarded. Note: it should be used only for debugging purposes: if used with class loaded runtime (runtimeDirectory) it will block execution after startup because, for that case, limitations in process spawning</td></tr><tr><td align="center">version</td><td align="center">Optional</td><td align="center">None</td><td align="center">It can be specified in several ways. Or as a gradle property <code>xlDeployVersion</code>, via parameter or in <code>gradle.properties</code> file or explicitly via this field.</td></tr><tr><td align="center">yamlPatches</td><td align="center">Optional</td><td align="center">[:]</td><td align="center"><a href="#yaml-patches">Read about this section below</a></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="dev-ops-as-code"></a>Dev Ops As Code<a class="hash-link" href="#dev-ops-as-code" title="Direct link to heading">#</a></h3><p>Applies Dev Ops as code YAML files with extra metadata applied to it (mocked Git metadata associated with the file).</p><p>The example of such YAML file is:</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">devop-as-code-sample.yaml</div><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy/v1</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Applications</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Applications/WithGitMetaInfo</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> udm.Application</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">children</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> udm.DeploymentPackage</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.2&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> udm.DeploymentPackage</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Read more about devops as code here:
<a href="https://docs.xebialabs.com/v.10.2/deploy/how-to/work-with-xl-yaml-format-for-deploy/#yaml-file-fields" target="_blank" rel="noopener noreferrer">https://docs.xebialabs.com/v.10.2/deploy/how-to/work-with-xl-yaml-format-for-deploy/#yaml-file-fields</a> </p><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">devOpAsCodeScript</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The path to the script.</td></tr><tr><td align="center">scmAuthor</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The author of the commit.</td></tr><tr><td align="center">scmCommit</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The Git commit hash.</td></tr><tr><td align="center">scmDate</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The date of the commit.</td></tr><tr><td align="center">scmFile</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The path of the file</td></tr><tr><td align="center">scmMessage</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The Git commit message.</td></tr><tr><td align="center">scmRemote</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">The Git repository URI.</td></tr><tr><td align="center">scmType</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">SCM type, for example: git, svn, mercury</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="overlays"></a>Overlays<a class="hash-link" href="#overlays" title="Direct link to heading">#</a></h3><p>With overlays, you can override any file in any folder in Deploy. <br>
Overlay is a map, where key is a path of the folder, and value - the file which going to be added or overwritten.  </p><p>Example: </p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">overlays = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;build/artifacts&#x27;: [&quot;${ciExplorerDataDependency}:artifacts@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   conf             : [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       &quot;${ciExplorerDataDependency}:configuration@zip&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       files(&quot;src/test/xld/deployit-license.lic&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ext              : [&quot;${ciExplorerDataDependency}:extensions@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   lib              : [project.tasks.getByName(&quot;jar&quot;).outputs.files],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;plugins/xld-official&#x27;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       &quot;com.xebialabs.deployit.plugins:xld-ci-explorer:${xldCiExplorerVersion}@xldp&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ], </span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;xldrepo&#x27;        : [&quot;${ciExplorerDataDependency}:repository@zip&quot;],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>With Docker based setup you can override only folders which are mounted from Docker image.
Namely:</p><ul><li><strong>conf</strong></li><li><strong>ext</strong></li><li><strong>hotfix/lib</strong></li><li><strong>hotfix/plugins</strong></li><li><strong>plugins</strong></li><li><strong>repository</strong></li><li><strong>work</strong></li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="yaml-patches"></a>YAML patches<a class="hash-link" href="#yaml-patches" title="Direct link to heading">#</a></h3><p>Central configuration files are YAML files. There are predefined values there which you might want to custom for your needs,
before starting the integration server. Though the feature is not limited to central configuration files only.
You still can point to any folder and create/overwrite any file you wish. The configuration is a map (key -&gt; map),
where a key is a folder path and value is another map, in which key is the path to the property and value is a value of the property.</p><p>For example, if you want to modify in <code>deploy-client.yaml</code> file the <code>automatically-map-all-deployables</code> to <code>false</code>, you have
to do:</p><p><img alt="Yaml Patch Example" src="/integration-server-gradle-plugin/assets/images/yaml-patch-example-5db185920b7e8925c5751eeb18c131f7.png"></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">yamlPatches = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;centralConfiguration/deploy-client.yaml&#x27;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       &#x27;deploy.client.automatically-map-all-deployables&#x27;: &#x27;false&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">]  </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="database-section"></a>Database section<a class="hash-link" href="#database-section" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">build.gradle</div><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   databases { </span></span><span class="token-line" style="color:#393A34"><span class="token plain">     database01 { // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        databasePort = 10000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        driverVersions = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;mssql&#x27;        : &#x27;8.4.1.jre8&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;mysql&#x27;        : &#x27;8.0.22&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;mysql-8&#x27;      : &#x27;8.0.22&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;oracle-19c-se&#x27;: &#x27;21.1.0.0&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;postgres-10&#x27;  : &#x27;42.2.9&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             &#x27;postgres-12&#x27;  : &#x27;42.2.23&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        logSql = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     }   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">databasePort</td><td align="center">Optional</td><td align="center">Random number</td><td align="center">The port on which database is going to be started.</td></tr><tr><td align="center">driverVersions</td><td align="center">Optional</td><td align="center">[&#x27;mssql&#x27;:&#x27;8.4.1.jre8&#x27;,&#x27;mysql&#x27;:&#x27;8.0.22&#x27;,&#x27;mysql-8&#x27;:&#x27;8.0.22&#x27;,&#x27;oracle-19c-se&#x27;:&#x27;21.1.0.0&#x27;,&#x27;postgres-10&#x27;:&#x27;42.2.9&#x27;,&#x27;postgres-12&#x27;:&#x27;42.2.23&#x27;]</td><td align="center"></td></tr><tr><td align="center">logSql</td><td align="center">Optional</td><td align="center">false</td><td align="center">If true, enables tracing all SQL queries</td></tr></tbody></table><p>The most important what you have to know regarding the database configuration is, choosing which database to run is happening
now on the level of project property <code>database</code>. It means that you can specify it in 2 ways:</p><ul><li>adding a parameter via <code>-Pdatabase</code></li><li>In the root of your project in <code>gradle.properties</code> file</li></ul><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">gradle.properties</div><div class="codeBlockContent_hGly properties"><pre tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">database=derby-network</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If nothing specified, <strong>derby in memory</strong> is going to be used.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="workers-section"></a>Workers section<a class="hash-link" href="#workers-section" title="Direct link to heading">#</a></h2><p>Whenever you have to distribute the load of your system and parallelize the deployment execution you can configure workers.
In real case scenario you can run workers as on the same as well as on different VMs.
There are 3 types of workers: </p><ul><li>internal worker which is embedded to a server, when no workers configured.</li><li>local workers, when extra JVM processed is spanned from the same folder</li><li>external workers, when you run the worker from another folder on the same or different VM</li></ul><p>Read more about workers here:
<a href="https://docs.xebialabs.com/v.10.2/deploy/concept/high-availability-with-master-worker-setup/#preparing-multiple-masters" target="_blank" rel="noopener noreferrer">https://docs.xebialabs.com/v.10.2/deploy/concept/high-availability-with-master-worker-setup/#preparing-multiple-masters</a></p><p><strong>Integration Server</strong> currently support running only on the same VM.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    workers {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        worker01 {  // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            version = &quot;10.2.2&quot; // Optional, if not specified will use same version as Server</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        worker02 {  // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugPort = 5006</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugSuspend = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            jvmArgs = [&quot;-Xmx1024m&quot;, &quot;-Duser.timezone=UTC&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        worker03 {  // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugPort = 5007</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugSuspend = false</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            runtimeDirectory = &quot;/opt/xl-deploy-worker&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            slimDistribution = true </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stdoutFileName = &#x27;worker.log&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            jvmArgs = [&quot;-Xmx1024m&quot;, &quot;-Duser.timezone=UTC&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            port = 8182</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">debugPort</td><td align="center">Optional</td><td align="center">None</td><td align="center">Remote Debug Port for a worker.</td></tr><tr><td align="center">debugSuspend</td><td align="center">Optional</td><td align="center">None</td><td align="center">Suspend the start of the process before the remoting tool is attached.</td></tr><tr><td align="center">jvmArgs</td><td align="center">Optional</td><td align="center">None</td><td align="center">JVM arguments which are going to be used on a worker startup.</td></tr><tr><td align="center">logLevels</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">Custom log levels to be included in logback.xml configuration. Expected format is a map, where the key is the package name and value the log level.</td></tr><tr><td align="center">overlays</td><td align="center">Optional</td><td align="center">[:]</td><td align="center"><a href="#overlays">Read about this section below</a></td></tr><tr><td align="center">port</td><td align="center">Optional</td><td align="center">None</td><td align="center">Port on which worker will start.</td></tr><tr><td align="center">runtimeDirectory</td><td align="center">Optional</td><td align="center">None</td><td align="center">If specified, it will run external worker, from the different folder location than server. It will not try to download released version.</td></tr><tr><td align="center">slimDistribution</td><td align="center">Optional</td><td align="center">false</td><td align="center">When false runs worker within cloned xl-deploy directory. If true runs worker from downloaded deploy-task-engine. Default is false.</td></tr><tr><td align="center">stdoutFileName</td><td align="center">Optional</td><td align="center">None</td><td align="center">The filename that stores standard output and error for worker runtime. If not present output is discarded. Note: it should be used only for debugging purposes: if used with class loaded runtime (runtimeDirectory) it will block execution after startup because, for that case, limitations in process spawning</td></tr><tr><td align="center">version</td><td align="center">Optional</td><td align="center">None</td><td align="center">It can be specified in several ways. Or as a gradle property <code>deployTaskEngineVersion</code>, via parameter or in <code>gradle.properties</code> file or explicitly via this field. If not specified, it will take the same version as Server.</td></tr></tbody></table><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Docker based setup currently don&#x27;t support workers. </p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="satellites-section"></a>Satellites section<a class="hash-link" href="#satellites-section" title="Direct link to heading">#</a></h2><p>In comparison with workers, the goal for a satellite is to perform deployments on the different network with Deploy. When
the connection between networks is not fast and less reliable. <br></p><p><strong>Integration Server</strong> at this moment doesn&#x27;t simulate slow network, but rather allows you to test that the functionality
properly works on a satellite. A satellite itself is installed on the same VM. <br></p><p>You can read more about a satellite here:
<a href="https://docs.xebialabs.com/v.10.2/deploy/concept/getting-started-with-the-satellite-module/" target="_blank" rel="noopener noreferrer">https://docs.xebialabs.com/v.10.2/deploy/concept/getting-started-with-the-satellite-module/</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    satellites {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       satellite01 {  // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugPort = 5008</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debugSuspend = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            overlays = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                lib              : [files(&quot;src/test/resources/my-library.jar&quot;)],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ext              : [&quot;src/test/resources/synthetic.xml&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]       </span></span><span class="token-line" style="color:#393A34"><span class="token plain">            version = &quot;10.2.2&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       }   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">akkaStreamingPort</td><td align="center">Optional</td><td align="center">8480</td><td align="center">Streaming Akka port between Satellite and Server</td></tr><tr><td align="center">metricsPort</td><td align="center">Optional</td><td align="center">8080</td><td align="center">Port for gathered (JMX) metrics on Satellite</td></tr><tr><td align="center">serverAkkaPort</td><td align="center">Optional</td><td align="center">8380</td><td align="center">Akka port between Satellite and Server</td></tr><tr><td align="center">serverAkkaHostname</td><td align="center">Optional</td><td align="center">127.0.0.1</td><td align="center">Akka host name of the Server</td></tr><tr><td align="center">serverAkkaBindHostName</td><td align="center">Optional</td><td align="center">0.0.0.0</td><td align="center">Akka bind host name of the Server</td></tr><tr><td align="center">debugPort</td><td align="center">Optional</td><td align="center">None</td><td align="center">Remote Debug Port for a satellite.</td></tr><tr><td align="center">debugSuspend</td><td align="center">Optional</td><td align="center">None</td><td align="center">Suspend the start of the process before the remoting tool is attached.</td></tr><tr><td align="center">overlays</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">Identical to Server overlays, only in a satellite. <a href="#overlays">Read about this section below</a></td></tr><tr><td align="center">stdoutFileName</td><td align="center">Optional</td><td align="center">None</td><td align="center">The filename that stores standard output and error for server runtime. If not present output is discarded.</td></tr><tr><td align="center">version</td><td align="center">Optional</td><td align="center">None</td><td align="center">It can be specified in several ways. Or as a gradle property <code>xlSatelliteVersion</code>, via parameter or in <code>gradle.properties</code> file or explicitly via this field.</td></tr></tbody></table><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Docker based setup currently don&#x27;t support satellites. </p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mq-driver-versions"></a>MQ Driver Versions<a class="hash-link" href="#mq-driver-versions" title="Direct link to heading">#</a></h2><p>Message Queue Drivers are by default chosen by the plugin, you can change that, and this is exactly what this section about.</p><p>That&#x27;s how your can override it: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mqDriverVersions {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;activemq&#x27;: &#x27;5.16.2&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;rabbitmq&#x27;: &#x27;2.2.0&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In this sample you can see the default values used in the plugin.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="xld-integration-server-data-version"></a>XLD Integration Server Data Version<a class="hash-link" href="#xld-integration-server-data-version" title="Direct link to heading">#</a></h2><p>Currently, this is used only internally in Digital.ai to point to a package with imported data. <br>
Before server starts, database is going to be populated by the imported data, to save the time during test run.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tests-section"></a>Tests section<a class="hash-link" href="#tests-section" title="Direct link to heading">#</a></h2><p>You can create Jython based tests and communicate with Deploy through CLI.</p><p>To run tests you have to run <code>./gradlew integrationTests</code>. It is not a part of <code>startIntegrationServer</code> intentionally.
The server start up takes time, especially if also workers and satellites are configured. During development of the tests, you don&#x27;t want
to reboot it every time, but rather run tests against the configured instance. </p><p>Therefore first you run the server with <code>./gradlew clean startIntegrationServer</code> and the you can run multiple times <code>./gradlew integrationTests</code>. </p><p>You can also run both commands in one command as: <code>./gradlew clean startIntegrationServer integrationTests</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integrationServer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    tests {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        base {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            base = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            extraClassPath = [file(&quot;src/test/resources&quot;)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            scriptPattern = /\/jython\/ci\/(.+).py$/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        testGroupO1 { // The name of the section, you can name it as you wish</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            baseDirectory = file(&quot;src/test&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            extraClassPath = [file(&quot;src/test/resources/group-01&quot;)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            scriptPattern = /\/jython\/ci\/group-01\/(.+).py$/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            setupScripts = [&quot;provision/setup.py&quot;, &quot;provision/azure/setup.py&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            systemProperties = [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;key1&#x27;: &#x27;value1&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;key2&#x27;: &#x27;value2&#x27;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tearDownScripts = [&quot;provision/azure/teardown.py&quot;, &quot;provision/teardown.py&quot;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Default Value</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">base</td><td align="center">Optional</td><td align="center"><code>false</code></td><td align="center">If to define <code>base</code> test section, it will be not executable, but sharing the same configuration across all executable test sections. If same property is defined in test section itself, it overrides base defined property.</td></tr><tr><td align="center">baseDirectory</td><td align="center">Mandatory</td><td align="center">None</td><td align="center">You have to specify here the base directory where your test setup is located.</td></tr><tr><td align="center">extraClassPath</td><td align="center">Optional</td><td align="center">[]</td><td align="center">You can point to a folder with your Jython utility scripts which you would like to use in other scripts to eliminate code duplication.</td></tr><tr><td align="center">scriptPattern</td><td align="center">Optional</td><td align="center">/(.+)[.](py | cli)/</td><td align="center">The pattern which will filter the tests you want to run. By default it will run all tests which have extension <code>py</code> or <code>cli</code> and reside inside base directory.</td></tr><tr><td align="center">setupScripts</td><td align="center">Optional</td><td align="center">[]</td><td align="center">Provision scripts which will be triggered before running all tests.</td></tr><tr><td align="center">systemProperties</td><td align="center">Optional</td><td align="center">[:]</td><td align="center">You can provide system properties inside your tests and then access it like <code>System.getProperty(&quot;key1&quot;)</code></td></tr><tr><td align="center">tearDownScripts</td><td align="center">Optional</td><td align="center">[]</td><td align="center">As the best practice to clean everything created by test(s), these scripts is exactly the place to do it. It will be triggered regardless if test was successful or not.</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/examples"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Examples</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/integration-server-gradle-plugin/docs/10.3.0/getting-started/tasks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tasks Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-first-section-level" class="table-of-contents__link">The first section level</a></li><li><a href="#clis-section" class="table-of-contents__link">CLIs section</a></li><li><a href="#servers-section" class="table-of-contents__link">Servers section</a><ul><li><a href="#dev-ops-as-code" class="table-of-contents__link">Dev Ops As Code</a></li><li><a href="#overlays" class="table-of-contents__link">Overlays</a></li><li><a href="#yaml-patches" class="table-of-contents__link">YAML patches</a></li></ul></li><li><a href="#database-section" class="table-of-contents__link">Database section</a></li><li><a href="#workers-section" class="table-of-contents__link">Workers section</a></li><li><a href="#satellites-section" class="table-of-contents__link">Satellites section</a></li><li><a href="#mq-driver-versions" class="table-of-contents__link">MQ Driver Versions</a></li><li><a href="#xld-integration-server-data-version" class="table-of-contents__link">XLD Integration Server Data Version</a></li><li><a href="#tests-section" class="table-of-contents__link">Tests section</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/integration-server-gradle-plugin/docs/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/integration-server-gradle-plugin/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/xebialabs/integration-server-gradle-plugin" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Integration Server Digital.ai</div></div></div></footer></div>
<script src="/integration-server-gradle-plugin/assets/js/runtime~main.d8719072.js"></script>
<script src="/integration-server-gradle-plugin/assets/js/main.d4e93d3e.js"></script>
</body>
</html>